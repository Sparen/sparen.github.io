<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html lang="en-us">  <head>    <meta content="text/html; charset=utf-8" http-equiv="content-type">    <title>AFCDTech - Sparen's Danmakufu ph3 Tutorials - Unit 1 Lesson 10</title>    <link rel="stylesheet" type="text/css" href="../blah.css">    <meta content="Sparen's Danmakufu ph3 Tutorials Unit 1 Lesson 10 - Angular Velocity and Curved Lasers. A guide to understanding curved lasers and angular velocity in Touhou Danmakufu ph3."      name="description">
    <meta name="keywords" content="Sparen, Touhou, Danmakufu, ph3, Tutorial, Script, Danmaku, Bullet, Shot, Laser, Curve, Angular, Velocity">
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-58194930-1', 'auto');
    ga('send', 'pageview');
  </script>  </head>  <body id="mhome">    <div class="yui-t1" id="top">      <center><a href="http://sparen.github.io"><img alt="&quot;Site Logo&quot;" src="../images/logo.png"></a></center>      <br>      <div id="menubar">
        <ul>
          <li><a class="mhome" href="http://sparen.github.io" title="AFCDTech">Return to Home</a></li>
          <li><a class="mph3tutorials" href="./ph3tutorials.html" title="Sparen's Danmakufu ph3 Tutorials">ph3 Tutorial Index</a></li>
          <li><a class="mdnhwiki" target="_blank" href="http://dmf.shrinemaiden.org/wiki/Main_Page">Danmakufu Wiki</a></li>
          <li><a class="mph3functionlist" target="_blank" href="http://dmf.shrinemaiden.org/wiki/Functions_(ph3)">Ph3 Function List</a></li>
        </ul>
      </div>      <div id="bd">        <div id="yui-main">
          <div class="tutnavbar">
	    <ul>
	      <li><a href="./ph3u1l9.html" title="Sparen's Danmakufu ph3 Tutorials - Introduction to Lasers">Unit 1 Lesson 9</a></li>
	      <li>Navigation Bar</li>
	      <li>---</li>
	    </ul>
          </div>          <div class="yui-b">            <div style="width: 850px;" class="yui-g">	      <h1 style="color:orange">Sparen's Danmakufu ph3 Tutorials Lesson 10 - Angular Velocity and Curved Lasers</h1>	      <p>The video for this lesson is Talos's Mini Shou Stage! Of course we couldn't have a less on curvy lasers without mentioning the Lord Shou! (Seiga, I'm sorry)</p>
	      <!--Embedded video below. Make sure to format the link correctly-->
	      <embed width="420" height="315"
		src="https://www.youtube.com/v/17GGCvV2hrk">
	      <div style="width: 600px;" class="tutorialnav">
	        <h2 style="color:aqua">Table of Contents</h2>
	        <ul>
	          <li><a href="#sub1">Part 1: What will be Covered in this Lesson?</a></li>
	          <li><a href="#sub2">Part 2: What is Angular Velocity?</a></li>
	          <li><a href="#sub3">Part 3: How Do I Manipulate Angular Velocity?</a></li>
	          <li><a href="#sub4">Part 4: How Do I Create and Use Curved Lasers?</a></li>
	          <li><a href="#sub5">Part 5: What are the Functions for Manipulating Curved Lasers?</a></li>
	          <li><a href="#sub6">Part 6: Why Does Using Curved Lasers Lag So Much?</a></li>
	          <li><a href="#sub7">Part 7: How Can I Use Acceleration With Angular Velocity?</a></li>
	          <li><a href="#quiz1">Quiz: Angular Velocity and Curved Lasers</a></li>
	          <li><a href="#sub8">Part 8: How Can I Create Curving Bullet Lines?</a></li>
	          <li><a href="#sub9">Part 9: How Do I Create Snaking Lasers and Bullet Lines?</a></li>
	          <li><a href="#sub10">Part 10: What are the Uses of Passing Direction Multipliers Into Tasks?</a></li>
	          <li><a href="#quiz2">Quiz: Snaking Paths and Direction Multipliers</a></li>
	          <li><a href="#subf">Sources and External Resources</a></li>
	        </ul>
	      </div>	      <h2 style="color:yellow" id="sub1">Part 1: What will be Covered in this Lesson?</h2>
	      <p>In this lesson, I will be explaining angular velocity, as well as curved lasers. I will cover how curved lasers are rendered and how their hitboxes work, as well as the tip decrement function and angular velocity when used on loose lasers and bullets, as well as various uses of ObjMove_AddPattern and how to use *-1 for alternating patterns. I will also cover passing alternating direction multipliers into tasks to have angles increment in the opposite direction.</p>
	      <h2 style="color:yellow" id="sub2">Part 2: What is Angular Velocity?</h2>
	      <p>Remember back in Lesson 8 when I explained Angular Velocity? Well now I will be going in-depth on Angular Velocity and ObjMove_AddPattern. First and foremost, what is angular velocity?</p>
	      <p>Angular velocity is the change in angle per unit time. For example, a bullet with angular velocity 5 would turn 120 degrees in 24 frames, and would make a complete rotation back to its starting point in 72 frames (later in this lesson, I will explain this phenomenon in greater detail). Angular velocity has a number of uses, of which the most common are temporary curving and curved lasers (which are the highlight of this lesson but not the most important part). </p>
	      <p>Angular velocity comes in two varieties - that for render objects and that for move objects. The former rotates the graphic while the latter changes the path a moving object takes. We will only focus on the latter in this lesson.</p>
	      <h2 style="color:yellow" id="sub3">Part 3: How Do I Manipulate Angular Velocity?</h2>
	      <p>By default, there are no functions that automatically create an object with angular velocity. To assign angular velocity to an object, you must use <code>ObjMove_SetAngularVelocity(obj, num);</code> or ObjMove_AddPattern. The former is very good for assigning to an object immediately while the latter is good for giving an object angular velocity (or removing it) at a certain time. We will go over <code>ObjMove_SetAngularVelocity</code> first, as it is the simpler of the functions and has a variety of uses for lasers as well as bullets.</p>
	      <p>In general, it is not difficult to manipulate angular velocity. Just remember to assign a variable to your shot's ID so that you can use the functions on it.</p>
	      <h2 style="color:yellow" id="sub4">Part 4: How Do I Create and Use Curved Lasers?</h2>
	      <p>Curvy lasers are the bane of a danmaku dodger's existence. They do strange movements, are hard to predict, and oftentimes barely dodge you or smash right into you. They are also expensive for the computer's processor and can, when used correctly, be extremely beautiful.</p>
	      <p>Like with other shot functions, we can use the following to create a curved laser and assign it an ID:</p>
	      <pre class="prettyprint"><code>    let objLaser = CreateCurveLaserA1(ObjMove_GetX(objBoss), ObjMove_GetY(objBoss), 4, GetAngleToPlayer(objBoss),
        60, 18, 1018, 10);</code></pre>
	      <p>The parameters are (x, y, speed, angle, length, width, graphic, delay). Looks like the same for a loose laser, right? Well, if you give a loose laser angular velocity, it does curve... but not smoothly. There is a fundamental difference between loose and curved lasers.</p>
	      <p>You may be wondering how curved lasers are rendered, as the length changes depending on speed. We will go over this later in the lesson.</p>
	      <p>Generally speaking, when using curved lasers, you don't use them alone. Usually, they are paired, in waves, or in rings. Oftentimes, entire patterns will be based on curved lasers. However, be aware that you need to do a few tweaks to curved lasers for them to work well.</p>
	      <div class="tut_exercise">EXERCISE: Experiment with Angular Velocity on Loose Lasers. Then try it on Curved Lasers. What is the difference?</div>
	      <h2 style="color:yellow" id="sub5">Part 5: What are the Functions for Manipulating Curved Lasers?</h2>
	      <p>Regarding functions for curved lasers, there aren't actually that many specifically for curved lasers. Most of the time, you will use general ObjMove functions for curved lasers. However, there is one of great significance: <code>ObjCrLaser_SetTipDecrement(obj, val);</code></p>
	      <p>This function sets transparency reduction of curved laser tips. If not set to 0, the tip of a curved laser will be invisible, and with narrow curved lasers, you can and will cheapshot players. They won't see the tip of the curved laser because it is invisible, and will die. This function was added after the Danmakufu community requested it, and it is a godsend that all who use Danmakufu's built-in curved lasers are expected to use.</p>
	      <div class="tut_exercise">EXERCISE: Experiment with ObjCrLaser_SetTipDecrement. What effect does it have on how curved lasers are displayed?</div>
	      <h2 style="color:yellow" id="sub6">Part 6: Why Does Using Curved Lasers Lag So Much?</h2>
	      <p>It's the question you've all been asking - why is there so much lag when using curved lasers?</p>
	      <p>Aside from the ridiculous amount of ADD rendering, the answer lies in the hitbox. So far, we have learned about linear and radial hitboxes. However, a curved laser's hitbox is of a certain width but is not straight or in a circle. As a result, Danmakufu takes each individual piece of the curved laser (based on length) and assigns a hitbox to each part. The longer the curved laser, the more expensive it is to use.</p>
	      <p>The obvious solution now is to decrease the length of the curved laser. However, to do this means shortening the laser itself. To have a longer laser with a small base length, increase the speed of the laser. Of course, don't go too overboard with this or the laser will be too fast to dodge.</p>
	      <div class="tut_checkpoint">CHECKPOINT: How is the hitbox of a curved laser different from that of a loose laser?</div>
	      <p>INCOMPLETE BELOW THIS LINE</p>
	      <pre class="prettyprint"><code>    I am code. Fear me.</code></pre>
	      <p>Blah? Blah!</p>
	      <div class="tut_exercise">EXERCISE: Experiment with ObjLaser_SetInvalidLength and ObjLaser_SetIntersectionWidth. What works best with which graphic type?</div>
	      <h2 style="color:yellow" id="quiz1">Quiz: Loose and Straight Lasers</h2>
	        <!--Quiz start.-->
		<p>1) Marisa wants to create a straight laser that points straight at Reimu's donation box. However, she has a problem - in all of the test runs, the laser appeared without warning and destroyed something. How can she fix this?</p>
	        <form method="POST" onSubmit="return checkAnswerP(this, 'B', 4);">
	        <input type="RADIO" value="A" name="cc">
	        A. Increase the delete time of the laser<br>
	        <input type="RADIO" value="B" name="cc">
	        B. Increase the delay time of the laser<br>
	        <input type="RADIO" value="C" name="cc">
	        C. Show Reimu the power of LOVE!<br>
	        <input type="SUBMIT" value="Submit">
	        </form>
	        <br>
		<p>2) Marisa successfully got the laser to fire. However, now she wants to make sure that the lasers never delete. How should she do this?</p>
	        <form method="POST" onSubmit="return checkAnswerP(this, 'A', 4);">
	        <input type="RADIO" value="A" name="cc">
	        A. Set delete time to be greater than the value in EV_REQUEST_TIMER*60<br>
	        <input type="RADIO" value="B" name="cc">
	        B. Set delay to be greater than the value in EV_REQUEST_TIMER*60<br>
	        <input type="RADIO" value="C" name="cc">
	        C. Repeatedly fire lasers until everything is burned<br>
	        <input type="SUBMIT" value="Submit">
	        </form>
	        <br>
		<p>3) Meanwhile, Nitori is upset at the destruction of her home by Marisa's spellcards. She wishes to fire loose lasers at Marisa's house. What graphic is most suitable for this task?</p>
	        <form method="POST" onSubmit="return checkAnswerP(this, 'C', 3);">
	        <input type="RADIO" value="A" name="cc">
	        A. A rectangular bullet<br>
	        <input type="RADIO" value="B" name="cc">
	        B. A gear shaped bullet<br>
	        <input type="RADIO" value="C" name="cc">
	        C. A round bullet<br>
	        <input type="SUBMIT" value="Submit">
	        </form>
	        <br>
		<p>4) Patchouli is experimenting with Fireball Lasers (yes this is a reference to my contest entry video at the top of the page). However, it seems that it is possible to die a little to the left or right of the front of the bullet but it is safe to go in at the side and stay in the white part of the bullet without dying. What is the issue here?</p>
	        <form method="POST" onSubmit="return checkAnswerP(this, 'B', 3);">
	        <input type="RADIO" value="A" name="cc">
	        A. The hitbox of the bullet was not defined correctly<br>
	        <input type="RADIO" value="B" name="cc">
	        B. It is a circular bullet with a rectangular hitbox<br>
	        <input type="RADIO" value="C" name="cc">
	        C. There's a bug in Danmakufu<br>
	        <input type="RADIO" value="D" name="cc">
	        D. She is imagining things<br>
	        <input type="SUBMIT" value="Submit">
	        </form>
	      <br>            </div>          </div>
          <div class="tutnavbar">
	    <ul>
	      <li><a href="./ph3u1l9.html" title="Sparen's Danmakufu ph3 Tutorials - Introduction to Lasers">Unit 1 Lesson 9</a></li>
	      <li>Navigation Bar</li>
	      <li>---</li>
	    </ul>
	    <br>
          </div>        </div>      </div>      <div id="ft">
        <p style="text-align: center;">Last Update to Page: Mar 22, 2015</p>        <p style="text-align: center;"><a href="#top">Top</a></p>        <p style="text-align: center;">Copyright © 2014-2015 by Andrew Fan</p>        <p style="text-align: center;"><span style="font-weight: bold;">Other            Sites/Affiliates</span></p>        <div style="text-align: center;"><a target="_blank" href="http://www.winehq.org"><img	      alt="&quot;Wine HQ&quot;"	      src="../images/afflogowinehq.png"></a>          <a target="_blank" href="http://www.shrinemaiden.org/forum/index.php"><img	      alt="&quot;Maidens of the Kaleidoscope&quot;"	      src="../images/afflogomotk.png"></a>          <a target="_blank" href="http://www.bulletforge.org"><img alt="&quot;Bulletforge&quot;"	      src="../images/afflogobulletforge.png"></a>          <a target="_blank" href="http://moriyashrine.weebly.com/index.html"><img	      alt="&quot;Moriya Shrine&quot;"	      src="../images/afflogomoriyashrine.png"></a>        </div>
        <div style="text-align: center;"><br>
          <p><b>ADVERTISEMENTS</b></p>
          <p>Hey scripters! Want me to feature your script/project/blog/website/Youtube video down here?</p>
          <p>Read <a href="../advertisements.html">this page</a> for more information.</p><br>
        </div>      </div>    </div>
    <script language="JavaScript" type="text/javascript" src="javascript/GenericQuiz.js"></script>
    <script language="JavaScript" type="text/javascript" src="javascript/QReviewP.js"></script>
    <script language="JavaScript" type="text/javascript" src="javascript/U1L9Quiz1.js"></script>
    <link href="customhighlighter/desert.css" type="text/css" rel="stylesheet" />
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?lang=c"></script>  </body></html>