<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html lang="en-us">  <head>    <meta content="text/html; charset=utf-8" http-equiv="content-type">    <title>AFCDTech - Ph3 Tutorials - Unit 1 Lesson 4</title>    <link rel="stylesheet" type="text/css" href="../blah.css">    <meta content="Andrew Fan's Code Dump: The Embodiment of Code and Hacks (AFCDTECH)"      name="description">    <meta content="BlueGriffon wysiwyg editor" name="generator">  </head>  <body id="mhome">    <div class="yui-t1" id="top">      <center><a href="../index.html"><img alt="&quot;Site Logo&quot;" src="../images/logo.png"></a></center>      <br>      <div id="menubar">
        <ul>
          <li><a class="mhome" href="../index.html">Return to Home</a></li>
          <li><a class="mph3tutorials" href="./ph3tutorials.html">ph3 Tutorial Index</a></li>
          <li><a target="_blank" href="http://dmf.shrinemaiden.org/wiki/Main_Page">Danmakufu Wiki</a></li>
          <li><a target="_blank" href="http://dmf.shrinemaiden.org/wiki/Functions_(ph3)">Ph3 Function List</a></li>
        </ul>
      </div>      <div id="bd">        <div id="yui-main">          <div class="yui-b">            <div style="width: 850px;" class="yui-g">              <h1 style="color:orange">Lesson 4 - Danmakufu Syntax, Structures, and Operations Part 1</h1>              <p>The video for this lesson is AJS's entry for the LOCAA 5 contest. It won first place for reasons obvious in the video. In my opinion, this is one of the best dual-boss scripts ever made in Danmakufu ph3, especially considering that although AJS has had a significant amount of experience in Danmakufu, this is his very first ph3 script.</p>
	      <!--Embedded video below. Make sure to format the link correctly-->
	      <embed width="420" height="315"
		src="https://www.youtube.com/v/buqjGcXLBjE">
	      <div style="width: 450px;" class="tutorialnav">
                <h2 style="color:aqua">Table of Contents</h2>
                <ul>
	          <li><a href="#sub1">Part 1: What will be Covered in this Lesson?</a></li>
	          <li><a href="#sub2">Part 2: What are Comments and How do I Use Them?</a></li>
	          <li><a href="#sub3">Part 3: What is a Variable?</a></li>
	          <li><a href="#sub4">Part 4: What are Constants?</a></li>
	          <li><a href="#sub5">Part 5: What Mathematical Operations Can I Perform in Danmakufu?</a></li>
	          <li><a href="#sub6">Part 6: What are Local and Global Variables?</a></li>
	          <li><a href="#quiz1">Quiz: Mathematical Operations</a></li>
	          <li><a href="#quiz2">Quiz: Decimals</a></li>
	          <li><a href="#sub7">Part 7: What are Characters and Can I Change the Type of a Variable?</a></li>
	          <li><a href="#sub8">Part 8: What are Strings?</a></li>
	          <li><a href="#sub9">Part 9: What are Arrays?</a></li>
	        </ul>
	      </div>              <h2 style="color:yellow" id="sub1">Part 1: What will be Covered in this Lesson?</h2>
              <p>In this lesson, I will cover the following:</p>
              <ul>
	          <li>Comments</li>
	          <li>Variables and Variable Declaration</li>
	          <li>Constants</li>
	          <li>Mathematical Operations</li>
	          <li>Characters</li>
	          <li>Strings</li>
	          <li>One-Dimensional Arrays</li>
	      </ul>
              <p>In the next lesson, I will cover the following:</p>
              <ul>
	          <li>Booleans and Boolean Operations</li>
	          <li>Loops</li>
	          <li>Functions</li>
	          <li>Tasks and yield;</li>
	          <li>Usage of the Semicolon</li>
	      </ul>
	      <p>Please note that the contents of this page are partially based off of <a target="_blank" href="https://docs.google.com/document/d/1JZUPpRdaUYzl1zuv-rUeJNq-t9fQH0-TjZzqFYHixAs">CK Crash's Danmakufu ph3 tutorial</a> and that it may be a more suitable option for learning about how Danmakufu treats variables and the like.</p>
              <h2 style="color:yellow" id="sub2">Part 2: What are Comments and How do I Use Them?</h2>
                <pre><code>//This is a comment.
//Anything in Danmakufu that is preceded with two slashes (//) is a line comment.
//Therefore, anything past a // on a line is not treated as code by Danmakufu and will be ignored.
/*This is also a comment*/
//Comments inside /* and */ are considered 'block comments'.
/*Block
comments
can
span
multiple
lines*/
//Line comments are very good for providing descriptions of what certain code does.
//Line comments are also very good for commenting out code that you don't want to use right now, such as debug code.
/*Block Comments are useful for cutting out large chunks of code from execution in order to test one part of a script.*/
/*Block comments are also used to hold descriptive information about functions and the like*/</code></pre>
              <p>Note that in code within these tutorials, comments will often be used to note certain important concepts or the functions of certain lines of code, as well as a plethora of other things. This is the same in other tutorials.</p>
              <h2 style="color:yellow" id="sub3">Part 3: What is a Variable?</h2>
              <p>A variable in computer science is not exactly the same as in mathematics. In computer science, it is possible for a variable to change its value. A variable stores information, whether it is a constant, a string, or an ID. There are global variables and there are local variables, both of which will be covered shortly. You can think of a variable as a container for some type of information.</p>
                <pre><code>let x; //This code declares a variable called x.
x = 5; //Now the value of x has been set to 5.
x = 3; //The value of x has been overridden and is now 3.
let y = x; //We have created a new variable y, whose current value is that of x, which is 3.
x = 4; //x is currently 4, but y maintains its value as 3.</code></pre>
              <p>Now lets consider the following code.</p>
                <pre><code>let x; //This code declares a variable called x.
let x = 5; //Attempt to declare a variable x storing the value 5.</code></pre>
              <p>The above code, unfortunately, will bring up an error because a variable x already exists! You cannot declare something that already exists (there are exceptions, which we will refer to when we talk about local and global variables).</p>
              <p>Now lets consider the following code.</p>
                <pre><code>x = 5; //This code tells the variable x to store the value 5.
let x = 3; //Declare a variable x storing the value 3.</code></pre>
              <p>The above code, unfortunately, also brings up an error. This time, you get an error for trying to use a variable that has not been declared. In this case, the line <code>x = 5;</code> refers to a variable x that, at that point in time, does not exist. You must declare a variable before you can use it.</p>
              <p>As a final note about variables, you can use 'real' instead of 'let' to declare a variable, although let is much much more commonly used. They are functionally the same.</p>
              <h2 style="color:yellow" id="sub4">Part 4: What are Constants?</h2>
              <p>Constants are identifiers that do not change while a program is running, as opposed to variables. Names for constants are all uppercase by convention. For example, built-in constants in Danmakufu include BLEND_ADD_ARGB and EV_GRAZE, among other things. Most of these are built in or used in shotsheets.</p>
              <p>If you decide to use your own constants, make sure that the name is UPPERCASE and that you do not edit the value at all. For example, <code>let CIRNO = 9;</code></p>
              <h2 style="color:yellow" id="sub5">Part 5: What Mathematical Operations Can I Perform in Danmakufu?</h2>
                <pre><code>let x;
x = 3 + 5; //x now holds the value 8
x=x+3; //x now holds the value 11. Note that white space doesn't matter.
x++; //This is equivalent to x = x + 1. It increments x by 1. Very helpful for counters.
x--; //Like the above. Decrements the value of x by 1.
let y = 6;
y = y*2; //y is now equal to 12.
y = y/3; //y is now equal to 4.
y = y^2; //y is raised to the second power and is now 16.
y = y%2; //Since the remainder/modulus when y/2 = 0, y is now 0.</code></pre>
              <p>Keep in mind that Danmakufu uses the Order of Operations and that the square root is the equivalent of raising to the 1/2 power. Below are some more examples and notes on the angle system used by Danmakufu, as well as some more shortcuts.</p>
                <pre><code>let angleT = 30; //Danmakufu uses degrees
angleT+=360/5; //angleT incremented by 72 and is now 102. 'var += n' is a shortcut for 'var = var + n'
angleT*=-1; //angleT is now -102, using the same process as the line above. Shortcuts also exist in the form of -=, and /=
let x = (30+angleT)*3; //Use parentheses for order of operations. x now equals 396.</code></pre>
              <p>However, please pay attention to the following</p>
                <pre><code>let y = (55)(33); //This will not work. 
let y = 55*33; //This is the correct way to multiply the two numbers. </code></pre>
              <p>Also, note that you cannot perform operations on variables that do not exist.</p>
                <pre><code>let y = 30; 
let z = x*y; //Will bring up an error since x has not been declared.</code></pre>
              <p>And finally, one of the more obnoxious errors.</p>
                <pre><code>let y = 30; 
y+=.5;</code></pre>
              <p>The error? Well, Danmakufu doesn't understand what the period means. You need to use 0.5 instead of .5 in order for Danmakufu to recognize it and not error at you.</p>
              <h2 style="color:yellow" id="sub6">Part 6: What are Local and Global Variables?</h2>
	      <p>So now, for our discussion on Local and Global Variables, we will refer back to the code used in the previous lesson.</p>
	      <p><a target="_blank" href="ph3u1l3code1.html">Click this link to open massive wall of code in a seperate window</a></p>
	      <p>Global Variables are variables declared outside of tasks, functions, and routines. They are usually declared bewtween the Danmakufu Header and @Event. A variable declared here can be referenced and changed from any other part of the script. For example, in the code provided, objEnemy and frame are declared as global variables. In @MainLoop, frame is referenced and changed multiple times. Just remember that changes made to a global variable used in multiple locations will affect all locations it is used, so it is recommended that you only change a global variable in one routine/function/task and nowhere else. For counters, I suggest using @MainLoop.</p>
	      <p>In @MainLoop, the loop starts with the declaration of ex and ey. These are local variables - they only exist in @MainLoop, and once @MainLoop finishes one round, they are reset. This means that they are updated each frame due to @MainLoop's nature.</p>
	      <p>Local Variables are also created in ascent and descent loops, and parameters of functions and tasks are also local variables, except that these local variables have a special quality - they will override global variables with the same name when called within the given loop, function, or task. This will be explained in the sections for the given concepts.</p>
              <h2 style="color:yellow" id="quiz1">Quiz: Mathematical Operations</h2>
	        <!--Quiz start.-->
		<p>1) What is the value of x after the following code has been executed?</p>
                <pre><code>let x = 8;
x+=5;
x = x^2;
x-=3;</code></pre>
                <form method="POST" onSubmit="return checkAnswerGENERIC(this, 'C');">
                <input type="RADIO" value="A" name="cc">
                A. 26<br>
                <input type="RADIO" value="B" name="cc">
                B. 23<br>
                <input type="RADIO" value="C" name="cc">
                C. 166<br>
                <input type="SUBMIT" value="Submit">
                </form>
                <br>
		<p>2) What is the value of x after the following code has been executed?</p>
                <pre><code>let x = 8;
let y = 6;
x = x*(y-3);
x+=9;</code></pre>
                <form method="POST" onSubmit="return checkAnswerGENERIC(this, 'A');">
                <input type="RADIO" value="A" name="cc">
                A. 33<br>
                <input type="RADIO" value="B" name="cc">
                B. 23<br>
                <input type="RADIO" value="C" name="cc">
                C. 54<br>
                <input type="SUBMIT" value="Submit">
                </form>
              <h2 style="color:yellow" id="quiz2">Quiz: Decimals</h2>
	        <!--Quiz start.-->
		<p>Nitori is sharing her love of decimals when she receives the following error:</p>
                <img alt="Error" src="tutimg/u1l4img1.png" height="145" width="440">
		<p>Why is this error showing up?</p>
                <form method="POST" onSubmit="return checkAnswerA1(this, 'B');">
                <input type="RADIO" value="A" name="cc">
                A. She did not declare the variable x<br>
                <input type="RADIO" value="B" name="cc">
                B. Decimals in Danmakufu cannot start with a period<br>
                <input type="RADIO" value="C" name="cc">
                C. She forgot a semicolon<br>
                <input type="SUBMIT" value="Submit">
                </form>
              <h2 style="color:yellow" id="sub7">Part 7: What are Characters and Can I Change the Type of a Variable?</h2>
		<p>In Computer Science, a character is a single letter, number, or symbol. Characters are denoted using single quotes, like such: <code>let x = 'a';</code></p>
		<p>In Danmakufu, you will most likely not use characters - rather, you will use strings, the topic of the next part. However, now is a good time to showcase one of the more important concepts in Danmakufu (and Computer Science in general) - variable types.</p>
                <pre><code>let x = 6; //x is a container holding an integer 6
let y = '$'; //y is a container holding the character $
let z = '3'; //z is a container holding the character 3
z = '3'; //This code will bring up an error</code></pre>
		<p>So, why can't you set the variable x's value from 6 to '3'? Well, that's because when you first assign a value to x, it is holding an integer. Later on, you are trying to set its value to a character. This is not allowed, since x has been set to only accept numbers. '3' is not a number in Danmakufu - it is a character. In other languages, characters may have integer equivalents and addition may be possible, but I suggest that you simply don't try to do this as it may have unwanted results.</p>
		<p>But what if you want to define <code>x = '33';</code>? Well... that's not going to work, and we'll see that in the next part.</p>
              <h2 style="color:yellow" id="sub8">Part 8: What are Strings?</h2>
		<p>Strings have much more use than characters. Strings can be used to hold phrases, filepaths, and more, and are denoted using double quotes. Please note that if you use smart quotes, Danmakufu will get angry and not work. Below are examples of strings.</p>
                <pre><code>let randomstring = "This is a random string.";
let spellname = "Fire and Water Sign \"Geysers of the Deep\"";
let imgRumia = GetCurrentScriptDirectory()~"img/imgrumia.png";
let desc = "This is a spellcard made by an unknown scripter.[r]Please play at your own risk.";</code></pre>
		<p>Obviously, strings hold much more information than a character and are far more useful. You can include numbers in strings, such as "3 + 6 = Cirno" as well as other things. In the four examples above, we have three special scenarios that deserve extra attention - spellname's escape character, imgRumia's string concatenation, and desc's [r].</p>
		<p>Firstly, the escape character \. In most languages, \ is used as the escape character, and if followed by certain symbols, will perform a specific function. For example, in most languages, \n denotes a new line (not in ph3 - we will discuss this later), \t denotes a tab, and, more specific to this scenario, \" denotes a ". Since strings begin and end with double quotes, having double quotes inside a string requires some workarounds, and that workaround is provided by \", which will not be read as closing the string but rather as a symbol that, when the string is printed, will use a double quote instead of \". This is the simplest way to include a double quote within a string. Very helpful for spell names, depending on your format for spellcard names.</p>
		<p>Next is string concatenation. For the purposes of this tutorial, be advised that GetCurrentScriptDirectory returns a string.</p>
                <pre><code>let imgRumia = GetCurrentScriptDirectory()~"img/imgrumia.png";</code></pre>
		<p>Here we have a string ~ string. So what does this do? This is known as string concatenation, and merges the two strings. For example:</p>
                <pre><code>let string = "String1"~"String2"; //string is now "String1String2"</code></pre>
		<p>You will almost always use this for paths being assigned to variables. It also comes in handy in a number of other situations.</p>
		<p>And finally, [r]. [r] is new in ph3 (0.12m used \n). [r] denotes a new line. Therefore, <code>let string = "one[r]two";</code>, if printed, would show the following:</p>
                <pre><code>one
two</code></pre>
		<p>Very helpful in #Text, with dialogue, and numerous other things.</p>
              <h2 style="color:yellow" id="sub9">Part 9: What are Arrays?</h2>
              <br>            </div>          </div>        </div>      </div>      <div id="ft">
        <p style="text-align: center;">Last Update to Page: Dec 3, 2014</p>        <p style="text-align: center;"><a href="#top">Top</a></p>        <p style="text-align: center;">Copyright Â© 2014 by Andrew Fan</p>        <p style="text-align: center;"><span style="font-weight: bold;">Other            Sites/Affiliates</span></p>        <div style="text-align: center;"><a target="_blank" href="http://www.winehq.org"><img              alt="&quot;Wine HQ&quot;"              src="../images/afflogowinehq.png"></a>          <a target="_blank" href="http://www.shrinemaiden.org/forum/index.php"><img              alt="&quot;Maidens of the Kaleidoscope&quot;"              src="../images/afflogomotk.png"></a>          <a target="_blank" href="http://www.bulletforge.org"><img alt="&quot;Bulletforge&quot;"              src="../images/afflogobulletforge.png"></a>          <a target="_blank" href="http://moriyashrine.weebly.com/index.html"><img              alt="&quot;Moriya Shrine&quot;"              src="../images/afflogomoriyashrine.png"></a>        </div>      </div>    </div>
    <script language="JavaScript" type="text/javascript" src="javascript/GenericQuiz.js"></script>
    <script language="JavaScript" type="text/javascript" src="javascript/U1L4Quiz1.js"></script>  </body></html>