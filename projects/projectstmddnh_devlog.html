<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html lang="en-us">  <head>    <meta content="text/html; charset=utf-8" http-equiv="content-type">    <title>AFCDTech - Projects - Devlog for Touhoumon Mystery Dungeon - Danmakufu</title>    <link rel="stylesheet" type="text/css" href="../blah.css">    <meta content="AFCDTECH - Project page for TMD DNH"      name="description">
    <meta name="keywords" content="Sparen, Touhou, Danmakufu, ph3, Project, Script, Pokemon, Mystery, Dungeon">
    <meta name="viewport" content="initial-scale=1">
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-58194930-1', 'auto');
    ga('send', 'pageview');
  </script>  </head>  <body id="mhome">    <div class="yui-t1" id="top">      <center><a href="http://sparen.github.io"><img alt="Site Logo" src="../images/logo.png"></a></center>      <br>      <div id="menubar">
        <ul>
          <li><a class="mhome" href="http://sparen.github.io" title="AFCDTech">Home</a></li>
          <li><a class="mabout" href="../aboutme.html">About Me</a></li>
          <li><a class="mph3tutorials" href="../ph3tutorials/ph3tutorials.html" title="Sparen's Danmakufu ph3 Tutorials">ph3 Tutorials</a></li>
          <li><a class="mprojects" href="../projects/projects.html" title="Sparen's Danmakufu Projects">Projects</a></li>
          <li><a class="mdnhart" href="../dnhart.html">DNHArt</a></li>
          <li><a class="mfaq" href="../faq.html">FAQ</a></li>
        </ul>
      </div>      <div id="bd">        <div id="yui-main">          <div class="yui-b">            <div style="width: 850px;" class="yui-g">
	      <center>	      <h1 style="color:rgb(59,248,80)">Touhoumon Mystery Dungeon (DEVLOG)</h1>
	      <img alt="TMD Explorers of Danmakufu" src="./img/PMD.png" width="240" height="192"><br><br>
	      <p>Welcome to my DevLog for my collaboration project with FrenticPony!</p>
	      <h2 style="color:rgb(59,248,80)">What is this Project?</h2>
	      <p style="font-family: pmdfont;font-size:150%;">This project is our own Pokémon Mystery Dungeon style Touhou fangame, made in Touhou Danmakufu ph3!<br>This project is the revival of <a href="projectspmddnh_devlog.html">Pokémon Mystery Dungeon: Explorers of Danmakufu</a>.<br>As per doujin guidelines, this game will be distributed for free and we will assume all costs associated with commissions.<br>I plan to update this devlog every day I have done something for the project. As the person who has declared responsibility for the entirety of dungeon creation, I will try to make the game as authentic and fun to play as possible, and of course... lots and lots of strange items and moves.</p>
	      </center>
	      <div style="width: 600px;" class="tutorialnav">
	        <h2 style="color:aqua">Table of Contents</h2>
	        <ul>
	          <li>August 2015: <a href="#subaug212015">21</a> <a href="#subaug222015">22</a> <a href="#subaug232015">23</a></li>
	        </ul>
	      </div>
	      <h1 style="color:rgb(59,248,80)">DEVLOG</h1>
	      <h2 style="color:rgb(59,248,80)" id="subaug232015">August 23, 2015</h2>
	      <div class="indexdevlogA">
	      <p class="indexdevlogtitleA">After yesterday's major success, it was time to fix the lagging threads and work on items. I ended up doing a terrible job of spriting, so we'll be using the official item sprites until we have suitable replacements. Anyways...</p>
	      <p class="indexdevlogtitleA">I ended up fixing a typo in the Random Dungeon Generator which basically fixed all the remaining problems with the existing framework (except for room edge issues, which may or may not exist because I have not yet tested them). But regardless, I did a lot of work with items. Specifically, I made ObjItem, prepared the framework for three types of items (single use, money, and stackables). Hopefully this will last. Anyways, I prepared a lot of render and position framework and also generated the code used to randomly generate and place them in the floor. Unfortunately, all I could really do was money, which I also ended up displaying on the HUD. We'll need a menu with accessible pages of inventory (and probably basic text) in order to have items really work.</p>
	      <p class="indexdevlogtitleA">All of this being said, we will be replacing orbs with single-use spellcards, and the first to be implemented will most likely be the equivalent of the One-Room Orb (super easy), and maybe Drought Orb and Mobile Orb (will require the Status Effect Object to get somewhere). And those are our short-term plans. AKA might do tomorrow.</p>
	      </div>
	      <h2 style="color:rgb(59,248,80)" id="subaug222015">August 22, 2015</h2>
	      <div class="indexdevlogA">
	      <p class="indexdevlogtitleA">Simply put, Randomly Generated Dungeons.</p>
	      <p class="indexdevlogtitleA">YES! We have randomly generated dungeons now, after about 6 hours of intense coding and bugfixing. I had to make a new object (ObjRoom), which took a long time to fix up. I was, by the way, using <a target="_blank" href="http://gamedevelopment.tutsplus.com/tutorials/create-a-procedurally-generated-dungeon-cave-system--gamedev-10099">this link</a> to learn what to do for starters - after the test dungeon, I will try to implement BSP, as that seems to be how the actual creators of PMD made some of their dungeons.</p>
	      <p class="indexdevlogtitleA">But wow. The fact that the map is a 2D array that is like, rows, then columns (when you view the actual map) was sort of painful. The player movement went flawlessly though, so I was able to test things. But in the end, everything went well until I found my first 2 hour long problem. Basically, my map was no longer a 2D array of tiles, so it wasn't a real object anymore. And so... passing it to a function and editing it in that function meant that the original didn't change. It took me a long time to realize this, but the solution was just saving the map as CommonData. Thank goodness for CommonData.</p>
	      <p class="indexdevlogtitleA">After the four or so hours it took me to get rooms working, came corridors. And here was where I basically died. 2D arrays, incorrect indexing, Array Index Out of Bounds, error, crash, weird mishaps in code, reflected...</p>
	      <p class="indexdevlogtitleA">...Basically, it was hell. Anyways, hell passed, and I was able to revel in the fact that I had corridors. HOORAY! There were (and still are) a few minor glitches, but you can actually make it to the stairs. As for moving to the next floor...</p>
	      <p class="indexdevlogtitleA">Today I would like to thank Infinite Ultima Wave the Great, for his powerful and intelligent discovery of the fact that Danmakufu will not consider a single script in a plural having ended (it can be closed but not ended) unless the Boss's HP is less than 0. And yes, this is a thing. Deleting the boss does not work. You must actually delete the boss with no or negative HP in order for it to work. Of course, this was a time of great suffering. But I persevered (Ultima got pissed too, for good reason), and today I present a DevLog Video!</p>
	      <center><embed width="420" height="315" class="indexdevlogtitleA"
		src="https://www.youtube.com/v/7DH4jwso93k"></center>
	      </div>
	      <h2 style="color:rgb(59,248,80)" id="subaug212015">August 21, 2015</h2>
	      <div class="indexdevlogA">
	      <p class="indexdevlogtitleA">Today I revived the project and WHOOHOO SO MUCH PROGRESS!!!!!</p>
	      <p class="indexdevlogtitleA">The important thing that happened was me actually getting back to the code. All three of us in the Dev Team sort of knew that doing it with Touhou characters would be much easier. But today I actually went back to the code and *did* stuff!</p>
	      <p class="indexdevlogtitleA">I changed all the "Poke" to "Touhou" (like, everywhere except for in the image on the STG_Frame), and then began a quick purge before deciding that fixing all possible situations in the map could wait, and that getting the player onto the screen would be more important. It was the correct decision - I made a stupid red circle for the player, then managed to render the player on the screen! Hooray! A few more issues fixed, and then the player was moving! Correctly! At a decent speed! And then... move validity!!!</p>
	      <p class="indexdevlogtitleA">...OK, I'll admit that fixing corners was far scarier than it actually was. In the end, there were a dozen or so checks and everything worked. At least with characters incapable of flying or anything. Still don't know what would happen if a player tried to leave the screen. Should probably fix that.</p>
	      <p class="indexdevlogtitleA">But after the elation of having a player move, the FPS was absolute crap, and I finally got into gear on converting my 2D array of Tile Objects to a single sprite list. I was scared that it would screw up somewhere.</p>
	      <p class="indexdevlogtitleA">Somehow, I was spared all agony, because the entire thing went off without any problems at all, except for the staircase screwing up because a sprite list can only be made from one texture. But the FPS was still abysmal, so... I almost gave up.</p>
	      <p class="indexdevlogtitleA">However, during a conversation with Ultima on if there was a container smaller than a Primitive Object, like a struct... I realized that there was. A Tile Object, so far, only had coordinates and a type. So why not make them integers instead of objects.</p>
	      <p class="indexdevlogtitleA">I began working. And changing and deleting. I was surprised that the only usage of tiles in the entire game was actually their terrain value. I saved, ran the program... and...</p>
	      <p class="indexdevlogtitleA">First try. 60 FPS. All collision and graphics working. Perfectly.</p>
	      <p class="indexdevlogtitleA">Major Success.</p>
	      <center><input class="spoilerbutton indexdevlogtitleA" type="button" value="Show" onclick="this.value=this.value=='Show'?'Hide':'Show';">
	      <div class="spoiler"><div><img src="http://i1164.photobucket.com/albums/q570/SparenofIria/DevLog%20Image%206%20Aug%2021%202015_zpsd0fzxvhe.png" border="0" alt="Devlog Image"/ width="640" height="480"></div></div></center>
	      </div>
	      <p class="indexdevlogtitleA">In the near future, I hope to be able to obtain new images for the stairs, warp, and shop tiles so that they're all original, and hopefully get Achy to sprite a few characters so that we can get somewhere. The plot and style of the game have yet to be determined, but I think we're ready to implement basic items now. Fingers Crossed!</p>
	      <p class="indexdevlogtitleA">(btw, we have a Bitbucket repo for this project now. It's Bitbucket because Github is Open Source and I don't want any resources being stolen at this stage of the game)</p>
	      </div>
	      <br>            </div>          </div>        </div>      </div>      <div id="ft">        <p style="text-align: center;"><a href="#top">Top</a></p>        <p style="text-align: center;">Copyright © 2015 by Andrew Fan</p>        <p style="text-align: center;"><span style="font-weight: bold;">Other            Sites/Affiliates</span></p>        <div style="text-align: center;"><a target="_blank" href="http://www.winehq.org"><img	      alt="&quot;Wine HQ&quot;"	      src="../images/afflogowinehq.png"></a>          <a target="_blank" href="http://www.shrinemaiden.org/forum/index.php"><img	      alt="&quot;Maidens of the Kaleidoscope&quot;"	      src="../images/afflogomotk.png"></a>          <a target="_blank" href="http://www.bulletforge.org"><img alt="&quot;Bulletforge&quot;"	      src="../images/afflogobulletforge.png"></a>          <a target="_blank" href="http://moriyashrine.weebly.com/index.html"><img	      alt="&quot;Moriya Shrine&quot;"	      src="../images/afflogomoriyashrine.png"></a>        </div>      </div>    </div>  </body></html>